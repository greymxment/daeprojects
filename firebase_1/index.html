<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Welcome - nicegame.com</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 2rem;
  }
  #user-info {
    margin-bottom: 20px;
  }
  button {
    padding: 10px 20px;
    border: none;
    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
    color: white;
    font-weight: bold;
    border-radius: 6px;
    cursor: pointer;
  }
</style>
</head>
<body>

<h1>Welcome to nicegame.com</h1>
<div id="user-info">
  Logged in as: <span id="user-email"></span>
</div>
<button id="logout-button">Logout</button>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
  import {
    getAuth,
    onAuthStateChanged,
    signOut
  } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDQUREqsDC1fQXyoZi4tB9YEr2c0HjS93s",
    authDomain: "game-catalog---nice-game-tm.firebaseapp.com",
    databaseURL: "https://game-catalog---nice-game-tm-default-rtdb.firebaseio.com",
    projectId: "game-catalog---nice-game-tm",
    storageBucket: "game-catalog---nice-game-tm.firebasestorage.app",
    messagingSenderId: "236266946428",
    appId: "1:236266946428:web:3dc62d8c1d1d805643aef9",
    measurementId: "G-85Y87EW5RW"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const userEmailSpan = document.getElementById("user-email");
  const logoutButton = document.getElementById("logout-button");

  onAuthStateChanged(auth, (user) => {
    if (user) {
      // User logged in
      userEmailSpan.textContent = user.email;
    } else {
      // No user logged in, redirect to login page
      window.location.href = "login.html";
    }
  });

  logoutButton.addEventListener("click", () => {
    signOut(auth).then(() => {
      window.location.href = "login.html";
    });
  });
</script>

</body>
</html>
